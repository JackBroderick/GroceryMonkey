(this["webpackJsonpgrocerymonkey-client"]=this["webpackJsonpgrocerymonkey-client"]||[]).push([[0],{171:function(e,t,a){e.exports=a(363)},176:function(e,t,a){},177:function(e,t,a){},355:function(e,t,a){},360:function(e,t,a){},362:function(e,t,a){},363:function(e,t,a){"use strict";a.r(t);var n=a(10),r=a(11),i=a(6),o=a(13),s=a(12),l=a(169),c=a(0),u=a.n(c),m=a(16),h=a.n(m),d=a(8),f=a(41);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(176);var p=a(365),g=a(366),y=a(156),E=(a(177),"http://nodeserver:8080"),b={"Content-Type":"application/json"},v=1,k=2,C=function(e,t){fetch(E+"/getmonkeydata",{method:"POST",headers:b,body:JSON.stringify({})}).then((function(e){return e.json()})).then((function(e){e.success?t(e.data):t({})}))},w=function(e,t){fetch(E+"/updateuser",{method:"PUT",headers:b,body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e.success?t(e.user):t({})}))},S=function(e){fetch(E+"/getusers",{method:"POST",headers:b}).then((function(e){return e.json()})).then((function(t){t.success?e(t.data):e({})}))},I=function(e,t){fetch(E+"/updategroceryitem",{method:"PUT",headers:b,body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){t(e.success)}))},j=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).PIN=void 0,r.PIN=u.a.createRef(),r.state={redoAuth:r.props.isAuthenticated},r.tryPin=r.tryPin.bind(Object(i.a)(r)),r.tryPinQuick=r.tryPinQuick.bind(Object(i.a)(r)),r}return Object(r.a)(a,[{key:"tryPinQuick",value:function(e){4===e.length&&this.tryPin(e)}},{key:"tryPin",value:function(e){var t=this,a=function(e){t.PIN.current&&(t.PIN.current.value=""),e||t.setState((function(){return{redoAuth:!e}}))}.bind(this);this.props.authenticatePin(e,a)}},{key:"render",value:function(){var e=this;return this.props.isAuthenticated?this.props.isAdmin?u.a.createElement(d.a,{to:"/config"}):u.a.createElement(d.a,{to:"/main"}):u.a.createElement("div",{className:"Splash"},u.a.createElement("br",null),u.a.createElement(p.a,{className:"Image",src:"./images/grocerymonkey.jpg"}),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h1",null,"Grocery Monkey"),u.a.createElement("br",null),u.a.createElement("div",{style:{display:"inline-block"}},u.a.createElement(g.a,null,u.a.createElement(y.a,{autoFocus:!0,ref:this.PIN,placeholder:"User PIN","aria-label":"User PIN","aria-describedby":"basic-addon1",onChange:function(){return e.tryPinQuick(e.PIN.current.value)},style:{textAlign:"center",width:"100px"}}),u.a.createElement(g.a.Append,{style:{cursor:"pointer"},onClick:function(){e.tryPin(e.PIN.current.value)}},u.a.createElement(g.a.Text,null,"Login"))),this.state.redoAuth?u.a.createElement(u.a.Fragment,null,u.a.createElement("br",null),u.a.createElement("span",{style:{color:"darkred"}},u.a.createElement("h3",null,"INVALID PIN"))):null))}}]),a}(u.a.Component),O=a(373),P=a(367),N=a(369),A=a(167),U=a(372),T=a(164),D=a(71),L=a(158),R=(a(354),a(355),a(371)),x=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={monkeyImage:""},r.getMonkeyImage=r.getMonkeyImage.bind(Object(i.a)(r)),r}return Object(r.a)(a,[{key:"getMonkeyImage",value:function(){return"/images/monkey/monkey"+Math.floor(1+1*Math.random()).toString()+".gif"}},{key:"componentDidMount",value:function(){var e=this;this.setState((function(){return{monkeyImage:e.getMonkeyImage()}}))}},{key:"render",value:function(){return u.a.createElement("div",{style:{width:"90%",height:"50%"}},u.a.createElement(R.a,{animation:!0,centered:!0,show:this.props.show},u.a.createElement(R.a.Header,null,u.a.createElement(R.a.Title,null,"You are a Grocery Monkey!")),u.a.createElement(R.a.Body,{style:{textAlign:"center"}},u.a.createElement("div",{style:{width:"100%}"}},u.a.createElement(p.a,{fluid:!0,roundedCircle:!0,src:this.state.monkeyImage}))),u.a.createElement(R.a.Footer,null,u.a.createElement(P.a,{variant:"secondary",onClick:this.props.monkeyDanceToggle},"More Monkey Stuff"),u.a.createElement(P.a,{variant:"primary",onClick:this.props.logOff},"No More Monkey"))))}}]),a}(u.a.Component),_=a(374),M=a(368),G=a(65),H=a(154),B=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={monkeyImage:"./images/monkey/monkey_running.gif",monkeyMonth:H(new Date,"mmmm"),bananaHistory:[]},r.getBananas=r.getBananas.bind(Object(i.a)(r)),r.getBananaHistory=r.getBananaHistory.bind(Object(i.a)(r)),r}return Object(r.a)(a,[{key:"getBananas",value:function(e){var t="";if(e){for(var a=1;a<=e;a++)t+=G.emojify(":banana:");return t}return""}},{key:"getBananaHistory",value:function(e){var t=this,a=function(e){t.setState((function(){return{bananaHistory:e}}))};"monkeys"===e?function(e){fetch(E+"/getbananawinnerhistory",{method:"POST",headers:b,body:""}).then((function(e){return e.json()})).then((function(t){t.success?e(t.data):e({})}))}(a.bind(this)):"mooches"===e?function(e){fetch(E+"/getbananamoochhistory",{method:"POST",headers:b,body:""}).then((function(e){return e.json()})).then((function(t){t.success?e(t.data):e({})}))}(a.bind(this)):this.setState((function(){return{monkeyMonth:H(new Date,"mmmm")}}))}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{style:{width:"90%",height:"95%"}},u.a.createElement(R.a,{animation:!0,centered:!0,show:this.props.show},u.a.createElement(R.a.Header,null,u.a.createElement(R.a.Title,null,u.a.createElement(p.a,{fluid:!0,roundedCircle:!0,width:"60",height:"60",src:this.state.monkeyImage}),"The Monkey Race!")),u.a.createElement(R.a.Body,{style:{textAlign:"center"}},u.a.createElement(_.a,{defaultActiveKey:"current",id:"main_tab",onSelect:function(t){e.getBananaHistory(t)}},u.a.createElement(M.a,{eventKey:"current",title:this.state.monkeyMonth},u.a.createElement("div",{style:{width:"100%}"}},u.a.createElement(N.a,null,this.props.users.map((function(t,a){return u.a.createElement(A.a,{key:a,style:{display:"flex",alignItems:"center"}},u.a.createElement("div",{style:{width:"20%",textAlign:"center",display:"inline-block"}},u.a.createElement(p.a,{width:"40",height:"40",src:"./images/users/"+t.user_id+".jpg",roundedCircle:!0}),u.a.createElement("br",null),t.name),u.a.createElement("div",{style:{width:"80%",textAlign:"left",display:"inline-block"}},"Banana Count: ("+t.banana_count+")  "+e.getBananas(t.banana_count)))}))))),u.a.createElement(M.a,{eventKey:"monkeys",title:"Monkeys"},u.a.createElement(V,{label:"Bananas",emoji:":banana:",gif_image:"./images/star.gif",data:this.state.bananaHistory})),u.a.createElement(M.a,{eventKey:"mooches",title:"Mooches"},u.a.createElement(V,{label:"Requests",emoji:":speak_no_evil:",gif_image:"./images/question.gif",data:this.state.bananaHistory})))),u.a.createElement(R.a.Footer,null,u.a.createElement(P.a,{variant:"secondary",onClick:this.props.monkeyRaceToggle},"More Monkey Stuff"),u.a.createElement(P.a,{variant:"primary",onClick:this.props.logOff},"No More Monkey"))))}}]),a}(u.a.Component),V=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return u.a.createElement("div",{style:{width:"100%"}},u.a.createElement(N.a,null,this.props.data.map((function(t,a){return u.a.createElement(A.a,{key:a,style:{display:"flex",alignItems:"center"}},u.a.createElement("div",{style:{width:"22%",textAlign:"center",display:"inline-block"}},u.a.createElement(p.a,{width:"50",height:"50",src:e.props.gif_image}),u.a.createElement("br",null),H(new Date(t.banMonth),"mmmm")),u.a.createElement("div",{style:{width:"32%",textAlign:"center",display:"inline-block",cursor:"pointer"}},u.a.createElement(p.a,{width:"40",height:"40",src:"./images/users/"+t.banUserID+".jpg",roundedCircle:!0}),u.a.createElement("br",null),t.banUserName),u.a.createElement("div",{style:{width:"46%",textAlign:"center",display:"inline-block"}},e.props.label+": "+G.emojify(e.props.emoji)+"("+t.banCount+")"))}))))}}]),a}(u.a.Component),J=B,z=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return u.a.createElement("div",{style:{width:"90%",height:"50%"}},u.a.createElement(R.a,{animation:!0,centered:!0,show:this.props.itemPhotoLocation,size:"xl",onHide:function(){e.props.showItemToggle()}},u.a.createElement(R.a.Body,{style:{textAlign:"center"}},u.a.createElement("div",{style:{width:"100%}"}},u.a.createElement(p.a,{fluid:!0,style:{width:"100%",height:"100%"},src:this.props.itemPhotoLocation,onClick:function(){e.props.showItemToggle()}})))))}}]),a}(u.a.Component),F=a(43),K=a.n(F),W=a(65),X=a(359),Q=a(154),q=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).newItem=void 0,r.addItem=void 0,r.state={isAuthenticated:e.isAuthenticated,user:e.user,monkeyDance:!1,monkeyRace:!1,monkeyItemPhoto:null,ui:{updateUser:!1,monkeyChange:!1,monkeyLoaded:!1,showCamera:!1,photoTaken:!1,itemPhoto:null,itemStatusList:[],distinctItems:[],users:[],emojiLookup:[]},monkeyData:[]},r.newItem=u.a.createRef(),r.addItem=u.a.createRef(),r.monkeyItemAction=r.monkeyItemAction.bind(Object(i.a)(r)),r.monkeyItemAction_Do=r.monkeyItemAction_Do.bind(Object(i.a)(r)),r.lookupStatus=r.lookupStatus.bind(Object(i.a)(r)),r.addMonkeyItem=r.addMonkeyItem.bind(Object(i.a)(r)),r.monkeyDo=r.monkeyDo.bind(Object(i.a)(r)),r.monkeyAll=r.monkeyAll.bind(Object(i.a)(r)),r.monkeyDanceToggle=r.monkeyDanceToggle.bind(Object(i.a)(r)),r.monkeyRaceToggle=r.monkeyRaceToggle.bind(Object(i.a)(r)),r.getBananaCount=r.getBananaCount.bind(Object(i.a)(r)),r.onTakePhoto=r.onTakePhoto.bind(Object(i.a)(r)),r.toggleCamera=r.toggleCamera.bind(Object(i.a)(r)),r.getEmojiMatch=r.getEmojiMatch.bind(Object(i.a)(r)),r}return Object(r.a)(a,[{key:"getEmojiMatch",value:function(e){var t=this.state.ui.distinctItems.find((function(t){return t.item==e}));if(t)return t.code;var a=e.toLowerCase();"s"===a.substr(a.length-1)&&(a=a.slice(0,-1));var n=this.state.ui.emojiLookup.find((function(e){return a.includes(e.key)}));if(n)return n.code;var r=W.search(a);return r.length?":"+r[0].key+":":":shopping_trolley:"}},{key:"onTakePhoto",value:function(e){var t=this.state.ui;t.photoTaken=!0,t.itemPhoto=e,t.showCamera=!1,this.setState((function(){return{ui:t}}))}},{key:"getBananaCount",value:function(e){var t;return(t=this.state.ui.users.filter((function(t){return t.user_id===e}))).length?t[0].banana_count:0}},{key:"lookupStatus",value:function(e){var t;return t=this.state.ui.itemStatusList.filter((function(t){return t.statusID===parseInt(e)})),t.length?{actionType:t[0].action_type,status:t[0].status,status_verb:t[0].status_verb,status_active:t[0].status_active}:{actionType:0,status:0,status_verb:"",status_active:!1}}},{key:"monkeyItemAction",value:function(e,t){e.preventDefault(),this.monkeyItemAction_Do(e.target.value,t)}},{key:"monkeyItemAction_Do",value:function(e,t){var a=this,n=t,r=this.state.monkeyData,i=this.lookupStatus(e);r[n].itemActionType=i.actionType,r[n].itemStatus=i.status,r[n].itemStatusID=parseInt(e),r[n].itemStatusVerb=i.status_verb,r[n].itemStatusActive=i.status_active,r[n].itemUserID=this.state.user.user_id,r[n].itemUserName=this.state.user.name,r[n].itemChanged=!0,this.setState((function(){return{monkeyData:r,ui:{updateUser:a.state.ui.updateUser,itemStatusList:a.state.ui.itemStatusList,distinctItems:a.state.ui.distinctItems,users:a.state.ui.users,monkeyChange:!0,monkeyLoaded:!0,showCamera:!1,photoTaken:!1,itemPhoto:null,emojiLookup:a.state.ui.emojiLookup}}}))}},{key:"getMonkeyData",value:function(){var e=this;C(this.state.isAuthenticated,function(t){for(var a=[],n=0;n<t.groceryListItems.length;n++)a.push({itemNew:!1,itemActionType:0,itemID:t.groceryListItems[n].grocery_list_id,itemDate:t.groceryListItems[n].date,itemName:t.groceryListItems[n].item,itemCount:t.groceryListItems[n].count,itemCode:t.groceryListItems[n].code,itemNotes:t.groceryListItems[n].notes,itemStatusID:t.groceryListItems[n].status_id,itemStatus:t.groceryListItems[n].status,itemStatusVerb:t.groceryListItems[n].status_verb,itemStatusActive:t.groceryListItems[n].status_active,itemUserID:t.groceryListItems[n].user_id,itemUserName:t.groceryListItems[n].username,itemChanged:!1,itemPhoto:t.groceryListItems[n].photo,itemPhotoURI:t.groceryListItems[n].photo_location});var r={updateUser:!1,monkeyChange:!1,monkeyLoaded:!0,showCamera:!1,photoTaken:!1,itemPhoto:null,itemStatusList:t.groceryItemStatus,distinctItems:t.distinctGroceryListItems,users:t.users,emojiLookup:t.emojilookup};e.setState((function(){return{monkeyData:a,ui:r}}))}.bind(this))}},{key:"addMonkeyItem",value:function(e){var t=this;if(e.length>0||this.state.ui.photoTaken){var a,n=(e.length?e:"Photo Only").split(","),r=this.state.monkeyData,i="",o=0,s="",l=X();a=(i=n[0].replace(l,"")).charAt(0).toUpperCase()+i.slice(1).toLowerCase(),2===n.length?o=n[1].length?parseInt(n[1]):0:3===n.length&&(o=parseInt(n[1]),s=n[2]),r.push({itemNew:!0,itemName:a,itemCount:o,itemNotes:s,itemStatusID:1,itemStatus:"NEW",itemStatusVerb:"NEEDS",itemStatusActive:!0,itemActionType:1,itemUserID:this.state.user.user_id,itemUserName:this.state.user.name,itemCode:this.getEmojiMatch(a),itemDate:Q(new Date,"yyyy-mm-dd HH:MM:ss"),itemID:0,itemChanged:!1,itemPhoto:this.state.ui.photoTaken,itemPhotoURI:this.state.ui.photoTaken?this.state.ui.itemPhoto:null}),this.newItem.getInstance().clear(),this.setState((function(){return{monkeyData:r,ui:{updateUser:t.state.ui.updateUser,itemStatusList:t.state.ui.itemStatusList,distinctItems:t.state.ui.distinctItems,users:t.state.ui.users,monkeyChange:!0,monkeyLoaded:!0,showCamera:!1,photoTaken:!1,itemPhoto:null,emojiLookup:t.state.ui.emojiLookup}}}))}}},{key:"monkeyDo",value:function(){var e,t,a=this;if(this.state.ui.monkeyChange){var n={userName:this.state.user.name,userID:this.state.user.user_id,monkeyData:this.state.monkeyData};console.log(n),e=n,t=function(e){e?(a.getMonkeyData(),a.setState((function(){return{monkeyDance:!0}}))):alert("Error updating database")},fetch(E+"/updatemonkeydata",{method:"PUT",headers:b,body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e.success?t(!0):t(!1)}))}else this.props.logOff()}},{key:"monkeyAll",value:function(){for(var e=this,t=this.state.monkeyData,a=0;a<t.length;a++){var n=this.state.ui.itemStatusList[this.state.ui.itemStatusList.length-1].statusID,r=this.lookupStatus(n.toString());t[a].itemActionType=r.actionType,t[a].itemStatus=r.status,t[a].itemStatusID=n,t[a].itemStatusVerb=r.status_verb,t[a].itemStatusActive=r.status_active,t[a].itemUserID=this.state.user.user_id,t[a].itemUserName=this.state.user.name,t[a].itemChanged=!0}this.setState((function(){return{monkeyData:t,ui:{updateUser:e.state.ui.updateUser,itemStatusList:e.state.ui.itemStatusList,distinctItems:e.state.ui.distinctItems,users:e.state.ui.users,monkeyChange:!0,monkeyLoaded:!0,showCamera:!1,photoTaken:!1,itemPhoto:null,emojiLookup:e.state.ui.emojiLookup}}}))}},{key:"toggleCamera",value:function(e){var t=this.state.ui;t.showCamera=e,t.photoTaken=!1,t.itemPhoto=null,this.setState((function(){return{ui:t}}))}},{key:"monkeyDanceToggle",value:function(){var e=this;this.setState((function(){return{monkeyDance:!e.state.monkeyDance}}))}},{key:"monkeyRaceToggle",value:function(){var e=this;this.setState((function(){return{monkeyRace:!e.state.monkeyRace}}))}},{key:"componentDidMount",value:function(){this.getMonkeyData()}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"Main",style:{display:"inline-block"}},u.a.createElement(x,{show:this.state.monkeyDance,monkeyDanceToggle:this.monkeyDanceToggle,logOff:this.props.logOff}),u.a.createElement(J,{show:this.state.monkeyRace,users:this.state.ui.users,monkeyRaceToggle:this.monkeyRaceToggle,logOff:this.props.logOff}),u.a.createElement(z,{itemPhotoLocation:this.state.monkeyItemPhoto,showItemToggle:function(){e.setState((function(){return{monkeyItemPhoto:null}}))}}),u.a.createElement(O.a,{fixed:"top",sticky:"top",bg:"light",expand:"xl",style:{textAlign:"left",verticalAlign:"middle",flexDirection:"row"},onToggle:function(){e.toggleCamera(!1)}},u.a.createElement(O.a.Brand,null,u.a.createElement(p.a,{src:"/images/favicon.ico",style:{width:"30px",height:"30px",cursor:"pointer"},onClick:function(){return e.props.logOff()}}),u.a.createElement("span",{style:{visibility:"hidden"}},"X"),u.a.createElement("label",null,"   Grocery Monkey - "+this.state.user.name)),u.a.createElement(O.a.Toggle,{"aria-controls":"basic-navbar-nav"}),u.a.createElement(O.a.Collapse,{id:"basic-navbar-nav",style:{width:"100%"}},u.a.createElement("div",{style:{width:"100%",display:"flex",textAlign:"left",float:"left",clear:"left"}},u.a.createElement(g.a,{style:{width:"100%"}},u.a.createElement(g.a.Prepend,null,u.a.createElement(P.a,{variant:this.state.ui.photoTaken?"primary":"outline-primary",onClick:function(){e.toggleCamera(!e.state.ui.showCamera)}},u.a.createElement(p.a,{roundedCircle:!0,src:"/images/camera.png",style:{width:"20px",height:"20px",cursor:"pointer"}}))),u.a.createElement(L.Typeahead,{id:"groceryTypeahead",selectHintOnEnter:!0,options:this.state.ui.distinctItems.map((function(e,t){return W.emojify(e.code)+e.item})),placeholder:"Item, Quantity, Notes",clearButton:!0,labelKey:"item",emptyLabel:"",ref:function(t){return e.newItem=t}}),u.a.createElement(g.a.Append,null,u.a.createElement(P.a,{variant:"outline-success",ref:this.addItem,onClick:function(){return e.addMonkeyItem(e.newItem.getInstance().getInput().value)}},"Add")))))),u.a.createElement("div",null,this.state.ui.showCamera?u.a.createElement("div",{style:{width:"100%",height:"25%"}},u.a.createElement(K.a,{onTakePhoto:function(t){e.onTakePhoto(t)},imageType:F.IMAGE_TYPES.JPG,imageCompression:.97,isMaxResolution:!1,idealFacingMode:F.FACING_MODES.ENVIRONMENT,isDisplayStartCameraError:!0,isImageMirror:!1}),u.a.createElement("br",null)):null,this.state.monkeyData.length?u.a.createElement(N.a,null,this.state.monkeyData.map((function(t,a){return u.a.createElement(A.a,{key:a,style:{display:"flex",alignItems:"center",backgroundColor:e.state.monkeyData[a].itemChanged?"Gainsboro":"Transparent"}},u.a.createElement("div",{style:{width:"10%",textAlign:"center",display:"inline-block",backgroundColor:"Transparent",cursor:t.itemPhoto?"pointer":"default"}},u.a.createElement(p.a,{className:"list_profile_img",src:t.itemPhoto?t.itemNew?t.itemPhotoURI:"./images/items/"+t.itemPhotoURI+".jpg":"./images/users/"+t.itemUserID+".jpg#"+(new Date).getTime(),roundedCircle:!0,onClick:function(){e.setState((function(){return{monkeyItemPhoto:t.itemPhoto?t.itemNew?t.itemPhotoURI:"./images/items/"+t.itemPhotoURI+".jpg":"./images/users/"+t.itemUserID+".jpg#"+(new Date).getTime()}}))}}),u.a.createElement("br",null),t.itemUserName),u.a.createElement("div",{style:{width:"60%",textAlign:"center",display:"inline-block"}},u.a.createElement("label",{style:{cursor:"pointer"},onClick:e.state.monkeyData[a].itemNew?function(){}:function(){e.monkeyItemAction_Do(e.state.ui.itemStatusList.length.toString(),a)}},W.emojify(t.itemCode)+" "+t.itemName+(t.itemCount?" ("+t.itemCount+")":""),u.a.createElement("br",null),t.itemNotes)),u.a.createElement("div",{style:{width:"30",textAlign:"right",display:"inline-block"}},u.a.createElement(U.a,null,u.a.createElement(U.a.Control,{as:"select",value:t.itemStatusID.toString(),onChange:function(t){return e.monkeyItemAction(t,a)}},e.state.ui.itemStatusList.filter((function(a){var n=e.state.user.user_id===t.itemUserID||a.action_sameuser;return t.itemNew?a.action_new&&n:n})).map((function(e,t){return u.a.createElement("option",{key:t,value:e.statusID.toString()}," ",e.status)}))))))}))):this.state.ui.monkeyLoaded&&!this.state.ui.showCamera?u.a.createElement("div",{style:{width:"100%",alignContent:"center",textAlign:"center"}},u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(p.a,{id:"sad_fridge",src:"./images/sad_fridge.gif"}),u.a.createElement("h4",null,"Ain't nobody need nothin....")):null,u.a.createElement("br",null),u.a.createElement("br",null)),u.a.createElement(O.a,{bg:"dark",variant:"dark",sticky:"bottom",fixed:"bottom"},u.a.createElement(T.a,{style:{textAlign:"left",width:"32%"}},u.a.createElement("div",{style:{width:"100%",verticalAlign:"center"}},u.a.createElement(D.a,{as:f.b,to:"/user"},u.a.createElement(p.a,{alt:"",src:"./images/users/"+this.state.user.user_id+".jpg#"+(new Date).getTime(),width:"40",height:"40",className:"profile_Image",roundedCircle:!0})),u.a.createElement("span",{style:{visibility:"hidden"}},"X"),u.a.createElement("span",{style:{color:"white",fontWeight:"bold",cursor:"pointer"},onClick:function(){return e.monkeyRaceToggle()}},W.emojify(":banana:")+"("+this.getBananaCount(this.state.user.user_id)+")"))),u.a.createElement(T.a,{style:{textAlign:"right",width:"68%"}},u.a.createElement("div",{style:{width:"100%",textAlign:"right"}},u.a.createElement(P.a,{variant:"light",onClick:function(){return e.monkeyAll()}},"Monkey All"),u.a.createElement("span",null,"  "),u.a.createElement(P.a,{variant:"light",onClick:function(){return e.monkeyDo()}},this.state.ui.monkeyChange?"Monkey Do":"Logoff")))))}}]),a}(u.a.Component),Y=a(375),$=a(370),Z=a(168),ee=(a(360),a(361),function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).userSelfieSubmit=void 0,r.userName=void 0,r.PIN=void 0,r.email=void 0,r.sms=void 0,r.notify=void 0,r.userSelfieSubmit=u.a.createRef(),r.userName=u.a.createRef(),r.PIN=u.a.createRef(),r.email=u.a.createRef(),r.sms=u.a.createRef(),r.notify=u.a.createRef(),r.state={changeUser:!1,newSelfie:!1,userSelfie:"./images/users/"+e.user.user_id+".jpg#"+(new Date).getTime(),selfieChange:!1},r.needSave=r.needSave.bind(Object(i.a)(r)),r.updateUserLocal=r.updateUserLocal.bind(Object(i.a)(r)),r.toggleSelfie=r.toggleSelfie.bind(Object(i.a)(r)),r.onTakePhoto=r.onTakePhoto.bind(Object(i.a)(r)),r}return Object(r.a)(a,[{key:"needSave",value:function(){this.state.changeUser||this.setState((function(){return{changeUser:!0}}))}},{key:"updateUserLocal",value:function(e){var t=this;e.preventDefault();var a={user_id:this.props.user.user_id,name:this.userName.current.value,pin:this.PIN.current.value,email:this.email.current.value,sms:this.sms.current.value,notify:this.notify.current.checked};this.state.selfieChange&&function(e,t,a){var n={production:!E.length,userName:e,dataURI:t};fetch(E+"/updateuserselfie",{method:"POST",headers:b,body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){a(e.success)}))}(this.props.user.user_id+"",this.state.userSelfie,(function(e){console.log("File uploaded: "+e)})),this.props.updateUser(a,(function(){return t.setState((function(){return{changeUser:!1,selfieChange:!1}}))}))}},{key:"onTakePhoto",value:function(e){this.setState((function(){return{userSelfie:e,newSelfie:!1,changeUser:!0,selfieChange:!0}}))}},{key:"toggleSelfie",value:function(){var e=this;this.setState((function(){return{newSelfie:!e.state.newSelfie}}))}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{style:{width:"100%",textAlign:"center"}},u.a.createElement("div",{style:{width:"90%",display:"inline-block"}},u.a.createElement(te,{show:this.state.newSelfie,user:this.props.user,onTakePhoto:this.onTakePhoto,toggleSelfie:this.toggleSelfie}),u.a.createElement("br",null),u.a.createElement(U.a,{onSubmit:this.updateUserLocal},u.a.createElement(Y.a,{bg:"light",style:{width:"100%",textAlign:"left"}},u.a.createElement(Y.a.Header,null,u.a.createElement("div",{style:{width:"100%",display:"inline-block"}},u.a.createElement("div",{style:{display:"inline-block",textAlign:"left",width:"50%"}},u.a.createElement(p.a,{roundedCircle:!0,style:{width:"40px",height:"40px",cursor:"pointer"},src:this.state.userSelfie,onClick:function(){e.toggleSelfie()}}),u.a.createElement("span",{style:{visibility:"hidden"}},"X"),u.a.createElement("span",{style:{fontWeight:"bold"}},this.props.user.name)),u.a.createElement("div",{style:{display:"inline-block",width:"50%",textAlign:"right"}},u.a.createElement(U.a.Group,null,u.a.createElement(f.b,{to:"/main"},u.a.createElement(P.a,null,"Back")),u.a.createElement("span",{style:{visibility:"hidden"}},"  "),u.a.createElement(P.a,{disabled:!this.state.changeUser,type:"submit"},"Save"))))),u.a.createElement(Y.a.Body,null,u.a.createElement(U.a.Group,{as:$.a,controlId:"formHorizontalName"},u.a.createElement(U.a.Label,{column:!0,sm:2},"User Name"),u.a.createElement(Z.a,{sm:10},u.a.createElement(U.a.Control,{ref:this.userName,onChange:function(){return e.needSave()},placeholder:"User Name",defaultValue:this.props.user.name}))),u.a.createElement(U.a.Group,{as:$.a,controlId:"formHorizontalPIN"},u.a.createElement(U.a.Label,{column:!0,sm:2},"PIN"),u.a.createElement(Z.a,{sm:10},u.a.createElement(U.a.Control,{ref:this.PIN,onChange:function(){return e.needSave()},type:"password",placeholder:"PIN",defaultValue:this.props.user.pin}))),u.a.createElement(U.a.Group,{as:$.a,controlId:"formHorizontalCheck"},u.a.createElement(Z.a,{sm:{span:10,offset:2}},u.a.createElement(U.a.Check,{ref:this.notify,onChange:function(){return e.needSave()},label:"Grocery Monkey Notifications",defaultChecked:this.props.user.notify}))),u.a.createElement(U.a.Group,{as:$.a,controlId:"formHorizontalEmail"},u.a.createElement(U.a.Label,{column:!0,sm:2},"Email"),u.a.createElement(Z.a,{sm:10},u.a.createElement(U.a.Control,{ref:this.email,onChange:function(){return e.needSave()},type:"email",placeholder:"Email",defaultValue:this.props.user.email}))),u.a.createElement(U.a.Group,{as:$.a,type:"email",controlId:"formHorizontalSMS"},u.a.createElement(U.a.Label,{column:!0,sm:2},"SMS"),u.a.createElement(Z.a,{sm:10},u.a.createElement(U.a.Control,{ref:this.sms,onChange:function(){return e.needSave()},placeholder:"SMS",defaultValue:this.props.user.sms}))))))))}}]),a}(u.a.Component)),te=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return u.a.createElement(R.a,{size:"lg",show:this.props.show,animation:!0,centered:!0,onHide:function(){e.props.toggleSelfie()}},u.a.createElement(R.a.Header,{closeButton:!0},u.a.createElement(p.a,{fluid:!0,roundedCircle:!0,style:{width:"40px",height:"40px"},src:"./images/users/"+this.props.user.user_id+".jpg"}),u.a.createElement("span",{style:{visibility:"hidden"}},"X"),u.a.createElement(R.a.Title,null,this.props.user.name+"'s new selfie"," ")),u.a.createElement(R.a.Body,null,u.a.createElement(K.a,{onTakePhoto:function(t){e.props.onTakePhoto(t)},imageType:F.IMAGE_TYPES.JPG,imageCompression:.97,isMaxResolution:!1})))}}]),a}(u.a.Component),ae=ee,ne=(a(362),a(25)),re=a(65),ie=function(e){e.isAuthenticated;var t={item:"",code:""},a=Object(c.useRef)(null),n=Object(c.useRef)(null),r=Object(c.useState)([]),i=Object(ne.a)(r,2),o=i[0],s=i[1],l=Object(c.useState)(""),m=Object(ne.a)(l,2),h=m[0],d=m[1],f=Object(c.useState)(t),p=Object(ne.a)(f,2),y=p[0],k=p[1],w=Object(c.useState)(!1),S=Object(ne.a)(w,2),j=S[0],O=S[1],P=Object(c.useState)(!1),T=Object(ne.a)(P,2),D=T[0],L=T[1];function R(){C(0,(function(e){e?(s(e.distinctGroceryListItems),k(t)):s([])}))}function x(e){var a,n;window.confirm("Delete "+e.item+" from the list of grocery items?\n\nThis cannot be undone")&&(a=e,n=function(e){e?(k(t),R()):alert("Error deleting grocery item")},fetch(E+"/deletegroceryitem",{method:"DELETE",headers:b,body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){n(e.success)})))}return Object(c.useEffect)((function(){R()}),[]),Object(c.useEffect)((function(){n.current&&n.current.focus()})),u.a.createElement(u.a.Fragment,null,D?u.a.createElement(oe,{show:D,toggleEmojiConfig:function(){R(),L(!D)},selectedItem:y,mode:v}):u.a.createElement(u.a.Fragment,null),u.a.createElement("div",{style:{width:"100%"}},u.a.createElement("br",null),u.a.createElement(g.a,null,u.a.createElement(U.a.Control,{ref:a,onChange:function(){k(t),a.current&&d(a.current.value)},placeholder:"Enter Filter Criteria"}),u.a.createElement(g.a.Append,null,u.a.createElement(g.a.Text,{onClick:function(){a.current&&(d(""),a.current.value="")},style:{cursor:"pointer"}},"X")))),u.a.createElement("br",null),o.length?u.a.createElement(N.a,{style:{width:"100%"},variant:"flush"},o.filter((function(e){return new RegExp("\\b"+h,"i").test(e.item)})).map((function(e,t){return u.a.createElement(A.a,{key:t,style:{display:"flex",width:"100%",alignItems:"center",backgroundColor:JSON.stringify(y)===JSON.stringify(e)?"Gainsboro":"Transparent"}},u.a.createElement("div",{style:{width:"10%",textAlign:"left"}},u.a.createElement("label",{onClick:function(){k(e),L(!0)},style:{cursor:"pointer"}},re.emojify(e.code))),u.a.createElement("div",{style:{width:"78%",textAlign:"left"},onClick:function(){k(e),O(!1)}},JSON.stringify(e)===JSON.stringify(y)?u.a.createElement("input",{type:"text",ref:n,onChange:function(){n.current&&y.item!==n.current.value&&O(!0)},defaultValue:e.item,style:{width:"100%",border:0,backgroundColor:"Transparent",color:"darkblack"}}):u.a.createElement("label",null,u.a.createElement("span",{style:{visibility:"hidden"}},"x"),e.item)),u.a.createElement("div",{style:{width:"10%",textAlign:"right"}},JSON.stringify(e)===JSON.stringify(y)?j?u.a.createElement("label",{onClick:function(){!function(){if(n.current){var e={item:y.item,code:y.code,itemUpdate:n.current.value};I(e,(function(e){e?R():alert("Error updating grocery item")}))}}()},style:{cursor:"pointer"}},re.emojify(":floppy_disk:")):u.a.createElement(u.a.Fragment,null):u.a.createElement("label",{onClick:function(){x(e)},style:{cursor:"pointer"}},re.emojify(":wastebasket:"))))}))):u.a.createElement("label",null,"No Items"))},oe=function(e){var t=Object(c.useRef)(null),a=Object(c.useState)(re.search("")),n=Object(ne.a)(a,2),r=n[0],i=n[1];return u.a.createElement(R.a,{size:"lg",show:e.show,scrollable:!0,onHide:function(){e.toggleEmojiConfig()}},u.a.createElement(R.a.Header,{closeButton:!0},u.a.createElement(R.a.Title,null,e.mode==v?e.selectedItem.item+": "+re.emojify(e.selectedItem.code):"Select New emoji")),u.a.createElement(R.a.Body,null,r.length?r.map((function(t,a){return u.a.createElement("label",{key:a,style:{fontSize:"40px",cursor:"pointer"},onClick:function(){!function(t){if(e.mode===v){if(window.confirm("Make the following emoji change?\n\n"+e.selectedItem.item+": "+t.emoji)){var a={item:e.selectedItem.item,code:":"+t.key+":",itemUpdate:e.selectedItem.item};I(a,(function(t){t?e.toggleEmojiConfig():alert("Error updating grocery items")}))}}else e.mode===k&&e.selectNewEmoji&&e.selectNewEmoji(t)}(t)},title:t.key},t.emoji)})):u.a.createElement("label",null,"No matches found")),u.a.createElement(R.a.Footer,null,u.a.createElement(U.a,{onSubmit:function(e){!function(e){e.preventDefault(),t.current&&(i(re.search(t.current.value.toLowerCase())),t.current.value="",window.scrollTo(0,0))}(e)}},u.a.createElement(g.a,null,u.a.createElement(U.a.Control,{ref:t,placeholder:"Enter Search Criteria"}),u.a.createElement(g.a.Append,null,u.a.createElement(P.a,{type:"submit"},"Search"))))))},se=function(){var e=Object(c.useRef)(null),t={emoji:"",key:""},a=Object(c.useState)(""),n=Object(ne.a)(a,2),r=n[0],i=n[1],o=Object(c.useState)([]),s=Object(ne.a)(o,2),l=s[0],m=s[1],h=Object(c.useState)(t),d=Object(ne.a)(h,2),f=d[0],p=d[1],y=Object(c.useState)(!1),v=Object(ne.a)(y,2),C=v[0],w=v[1];function S(a){a.preventDefault(),function(e,t){fetch(E+"/createemojilookup",{method:"PUT",headers:b,body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){t(e.success)}))}({code:":"+f.key+":",key:r.toLowerCase()},(function(a){a?(e&&e.current&&(e.current.value=""),p(t),j()):alert("Error adding emoji lookup")}))}function I(e){var t,a;window.confirm("Delete the below emoji lookup?\n\n"+e.key+": "+re.emojify(e.code))&&(t=e,a=function(e){e?j():alert("Error deleting emoji lookup")},fetch(E+"/deleteemojilookup",{method:"DELETE",headers:b,body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){a(e.success)})))}function j(){var e;e=function(e){m(e)},fetch(E+"/getemojilookup",{method:"POST",headers:b}).then((function(e){return e.json()})).then((function(t){t.success?e(t.data):e({})}))}return Object(c.useEffect)((function(){j()}),[]),u.a.createElement(u.a.Fragment,null,u.a.createElement(oe,{show:C,toggleEmojiConfig:function(){w(!C)},selectedItem:{item:"",code:""},mode:k,selectNewEmoji:function(e){p(e),w(!1)}}),u.a.createElement("div",{style:{width:"100%"}},u.a.createElement("br",null),u.a.createElement(U.a,{onSubmit:function(e){S(e)}},u.a.createElement(g.a,null,u.a.createElement(g.a.Prepend,null,u.a.createElement(g.a.Text,{onClick:function(){w(!0)}},f.emoji.length?f.emoji:"...")),u.a.createElement(U.a.Control,{ref:e,placeholder:"Enter New emoji Key",onChange:function(){!function(){var t=e&&e.current?e.current.value:"";i(t)}()}}),u.a.createElement(g.a.Append,null,u.a.createElement(P.a,{type:"submit",disabled:0==r.length||0==f.emoji.length},"New")))),u.a.createElement("br",null)),l.length?u.a.createElement(N.a,{style:{width:"100%"},variant:"flush"},l.map((function(e,t){return u.a.createElement(A.a,{key:t,style:{display:"flex",width:"100%",alignItems:"center"}},u.a.createElement("div",{style:{width:"10%",textAlign:"left"}},re.emojify(e.code)),u.a.createElement("div",{style:{width:"78%",textAlign:"center"}},e.key),u.a.createElement("div",{style:{width:"10%",textAlign:"right"}},u.a.createElement("label",{onClick:function(){I(e)}},re.emojify(":wastebasket:"))))}))):u.a.createElement("label",null,"No emoji Match Keys"))},le=a(65),ce=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).adminPin=void 0,r.notifications=void 0,r.emailUserName=void 0,r.emailUserPassword=void 0,r.smtpServer=void 0,r.portNumber=void 0,r.ssl=void 0,r.domain=void 0,r.emailAlias=void 0,r.appURL=void 0,r.httpPort=void 0,r.httpsPort=void 0,r.userRefs=void 0,r.newName=void 0,r.newPIN=void 0,r.adminPin=u.a.createRef(),r.notifications=u.a.createRef(),r.emailUserName=u.a.createRef(),r.emailUserPassword=u.a.createRef(),r.smtpServer=u.a.createRef(),r.portNumber=u.a.createRef(),r.ssl=u.a.createRef(),r.domain=u.a.createRef(),r.emailAlias=u.a.createRef(),r.appURL=u.a.createRef(),r.httpPort=u.a.createRef(),r.httpsPort=u.a.createRef(),r.newName=u.a.createRef(),r.newPIN=u.a.createRef(),r.userRefs=[],r.state={changeConfig:!1,userChange:r.setRefs(),newChange:!1},r.needSave=r.needSave.bind(Object(i.a)(r)),r.updateConfig=r.updateConfig.bind(Object(i.a)(r)),r.updateUserInfo=r.updateUserInfo.bind(Object(i.a)(r)),r.userChange=r.userChange.bind(Object(i.a)(r)),r.newUser=r.newUser.bind(Object(i.a)(r)),r.deleteUserData=r.deleteUserData.bind(Object(i.a)(r)),r.setRefs=r.setRefs.bind(Object(i.a)(r)),r}return Object(r.a)(a,[{key:"setRefs",value:function(){this.userRefs=[];for(var e=[],t=0;t<this.props.users.length;t++)this.userRefs.push({name:u.a.createRef(),pin:u.a.createRef(),email:u.a.createRef(),sms:u.a.createRef(),notify:u.a.createRef()}),e.push(!1);return e}},{key:"needSave",value:function(){this.state.changeConfig||this.setState((function(){return{changeConfig:!0}}))}},{key:"newUser",value:function(){var e,t,a=this;if(this.newName.current.value.length&&this.newPIN.current.value.length){var n={user_id:-1,name:this.newName.current.value,pin:this.newPIN.current.value,email:"",sms:"",notify:!1};e=n,t=function(e){e?(a.userRefs.push({name:u.a.createRef(),pin:u.a.createRef(),email:u.a.createRef(),sms:u.a.createRef(),notify:u.a.createRef()}),a.state.userChange.push(!1),a.props.getUserData((function(){a.setState((function(){return{newChange:!1}}))}))):alert("Error adding user")},fetch(E+"/createuser",{method:"POST",headers:b,body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){t(e.success)}))}else alert("Please enter User Name and PIN")}},{key:"deleteUserData",value:function(e){var t,a,n=this;window.confirm("Delete "+this.props.users[e].name+" and all of "+this.props.users[e].name+"'s grocery list items?\n\nThis cannot be undone")&&(t=this.props.users[e],a=function(e){e?n.props.getUserData((function(){n.setState((function(){return{newChange:!1,userChange:n.setRefs()}}))})):alert("Error deleting user")},fetch(E+"/deleteuser",{method:"DELETE",headers:b,body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){a(e.success)})))}},{key:"userChange",value:function(e){var t=this.state.userChange;t[e]=!0,this.setState((function(){return{userChange:t}}))}},{key:"updateUserInfo",value:function(e){var t=this,a={user_id:this.props.users[e].user_id,name:this.userRefs[e].name.current.value,pin:this.userRefs[e].pin.current.value,email:this.userRefs[e].email.current.value,sms:this.userRefs[e].sms.current.value,notify:this.userRefs[e].notify.current.checked};w(a,(function(a){if(a){var n=t.state.userChange;n[e]=!1,t.setState((function(){return{userChange:n}}))}}))}},{key:"updateConfig",value:function(e){var t=this;e.preventDefault();var a,n,r={configID:this.props.config.configID,adminPin:this.adminPin.current.value,notifications:this.notifications.current.checked,emailUserName:this.emailUserName.current.value,emailUserPassword:this.emailUserPassword.current.value,smtpServer:this.smtpServer.current.value,portNumber:parseInt(this.portNumber.current.value),ssl:this.ssl.current.checked,domain:this.domain.current.value,emailAlias:this.emailAlias.current.value,appURL:this.appURL.current.value,httpPort:parseInt(this.httpPort.current.value),httpsPort:parseInt(this.httpsPort.current.value)};a=r,n=function(e){e||alert("Error updating configuration"),t.props.logOff()},fetch(E+"/updateconfiginfo",{method:"PUT",headers:b,body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){e.success?n(!0):n(!1)}))}},{key:"componentWillUnmount",value:function(){this.props.logOff()}},{key:"render",value:function(){var e=this;return u.a.createElement(u.a.Fragment,null,u.a.createElement("br",null),u.a.createElement(_.a,{defaultActiveKey:"config",id:"main_tab"},u.a.createElement(M.a,{eventKey:"config",title:"Configuration"},u.a.createElement("div",{style:{width:"100%",textAlign:"center"}},u.a.createElement("div",{style:{width:"90%",display:"inline-block"}},u.a.createElement("br",null),u.a.createElement(U.a,{onSubmit:this.updateConfig},u.a.createElement(Y.a,{bg:"light",style:{width:"100%",textAlign:"left"}},u.a.createElement(Y.a.Header,null,u.a.createElement("div",{style:{width:"100%",display:"inline-block"}},u.a.createElement("div",{style:{display:"inline-block",textAlign:"left",width:"50%"}},u.a.createElement(p.a,{roundedCircle:!0,src:"/images/favicon.ico",style:{width:"40px",height:"40px",cursor:"pointer"}}),u.a.createElement("span",{style:{visibility:"hidden"}},"X"),u.a.createElement("span",{style:{fontWeight:"bold"}},"Settings")),u.a.createElement("div",{style:{display:"inline-block",width:"50%",textAlign:"right"}},u.a.createElement(U.a.Group,null,u.a.createElement(P.a,{onClick:function(){e.props.logOff()}}," Back"),u.a.createElement("span",{style:{visibility:"hidden"}},"  "),u.a.createElement(P.a,{disabled:!this.state.changeConfig,type:"submit"},"Save"))))),u.a.createElement(Y.a.Body,null,u.a.createElement(U.a.Group,{as:$.a,controlId:"formHorizontalAdminPin"},u.a.createElement(U.a.Label,{column:!0,sm:2},"Admin PIN"),u.a.createElement(Z.a,{sm:10},u.a.createElement(U.a.Control,{ref:this.adminPin,onChange:function(){return e.needSave()},placeholder:"Admin PIN",type:"password",defaultValue:this.props.config.adminPin}))),u.a.createElement(U.a.Group,{as:$.a,controlId:"formNotifications"},u.a.createElement(Z.a,{sm:{span:10,offset:2}},u.a.createElement(U.a.Check,{ref:this.notifications,onChange:function(){return e.needSave()},label:"Enable User Notifications",defaultChecked:this.props.config.notifications}))),u.a.createElement(U.a.Group,{as:$.a,controlId:"formEmailUserName"},u.a.createElement(U.a.Label,{column:!0,sm:2},"Source Email"),u.a.createElement(Z.a,{sm:10},u.a.createElement(U.a.Control,{ref:this.emailUserName,onChange:function(){return e.needSave()},type:"email",placeholder:"Source Email",defaultValue:this.props.config.emailUserName}))),u.a.createElement(U.a.Group,{as:$.a,controlId:"formEmailUserPassword"},u.a.createElement(U.a.Label,{column:!0,sm:2},"Source Email Password"),u.a.createElement(Z.a,{sm:10},u.a.createElement(U.a.Control,{ref:this.emailUserPassword,onChange:function(){return e.needSave()},placeholder:"Source Email Password",type:"password",defaultValue:this.props.config.emailUserPassword}))),u.a.createElement(U.a.Group,{as:$.a,controlId:"formsmtpServer"},u.a.createElement(U.a.Label,{column:!0,sm:2},"SMTP Server"),u.a.createElement(Z.a,{sm:10},u.a.createElement(U.a.Control,{ref:this.smtpServer,onChange:function(){return e.needSave()},placeholder:"SMTP Server",defaultValue:this.props.config.smtpServer}))),u.a.createElement(U.a.Group,{as:$.a,controlId:"formportNumber"},u.a.createElement(U.a.Label,{column:!0,sm:2},"Port Number"),u.a.createElement(Z.a,{sm:10},u.a.createElement(U.a.Control,{ref:this.portNumber,onChange:function(){return e.needSave()},placeholder:"Port Number",defaultValue:this.props.config.portNumber+""}))),u.a.createElement(U.a.Group,{as:$.a,controlId:"formssl"},u.a.createElement(Z.a,{sm:{span:10,offset:2}},u.a.createElement(U.a.Check,{ref:this.ssl,onChange:function(){return e.needSave()},label:"SSL",defaultChecked:this.props.config.ssl}))),u.a.createElement(U.a.Group,{as:$.a,controlId:"formdomain"},u.a.createElement(U.a.Label,{column:!0,sm:2},"Domain"),u.a.createElement(Z.a,{sm:10},u.a.createElement(U.a.Control,{ref:this.domain,onChange:function(){return e.needSave()},placeholder:"Domain",defaultValue:this.props.config.domain}))),u.a.createElement(U.a.Group,{as:$.a,controlId:"formemailAlias"},u.a.createElement(U.a.Label,{column:!0,sm:2},"Email Alias"),u.a.createElement(Z.a,{sm:10},u.a.createElement(U.a.Control,{ref:this.emailAlias,onChange:function(){return e.needSave()},placeholder:"Email Alias",defaultValue:this.props.config.emailAlias}))),u.a.createElement(U.a.Group,{as:$.a,controlId:"formappURL"},u.a.createElement(U.a.Label,{column:!0,sm:2},"App URL"),u.a.createElement(Z.a,{sm:10},u.a.createElement(U.a.Control,{ref:this.appURL,onChange:function(){return e.needSave()},placeholder:"App URL",defaultValue:this.props.config.appURL}))),u.a.createElement(U.a.Group,{as:$.a,controlId:"formhttpPort"},u.a.createElement(U.a.Label,{column:!0,sm:2},"HTTP Port"),u.a.createElement(Z.a,{sm:10},u.a.createElement(U.a.Control,{ref:this.httpPort,onChange:function(){return e.needSave()},placeholder:"HTTP Port",defaultValue:this.props.config.httpPort+""}))),u.a.createElement(U.a.Group,{as:$.a,controlId:"formhttpsPort"},u.a.createElement(U.a.Label,{column:!0,sm:2},"HTTPS Port (Cert Required)"),u.a.createElement(Z.a,{sm:10},u.a.createElement(U.a.Control,{ref:this.httpsPort,onChange:function(){return e.needSave()},placeholder:"HTTPS Port",defaultValue:this.props.config.httpsPort+""}))))))))),u.a.createElement(M.a,{eventKey:"users",title:"Users"},u.a.createElement("div",{style:{width:"100%",textAlign:"center",alignContent:"center"}},u.a.createElement("div",{style:{width:"90%",display:"inline-block",textAlign:"center"}},u.a.createElement("br",null),u.a.createElement(Y.a,{bg:"light",style:{width:"100%",textAlign:"left"}},u.a.createElement(Y.a.Header,null,u.a.createElement("div",{style:{width:"100%",display:"inline-block"}},u.a.createElement("div",{style:{display:"inline-block",textAlign:"left",width:"50%"}},u.a.createElement(p.a,{roundedCircle:!0,src:"/images/favicon.ico",style:{width:"40px",height:"40px",cursor:"pointer"}}),u.a.createElement("span",{style:{visibility:"hidden"}},"X"),u.a.createElement("span",{style:{fontWeight:"bold"}},"Users")),u.a.createElement("div",{style:{display:"inline-block",width:"50%",textAlign:"right"}},u.a.createElement(U.a.Group,null,u.a.createElement(P.a,{onClick:function(){e.props.logOff()}}," Back"))))),u.a.createElement("br",null),u.a.createElement("div",{style:{width:"98%",alignSelf:"Center"}},this.props.users.map((function(t,a){return u.a.createElement(u.a.Fragment,null,u.a.createElement(Y.a,{style:{width:"100%"},key:a},u.a.createElement(Y.a.Img,{src:"./images/users/"+t.user_id+".jpg"}),u.a.createElement(Y.a.Body,null,u.a.createElement(Y.a.Title,null,t.name),u.a.createElement(Y.a.Text,null,"Banana count for this month: "+le.emojify(":banana:")+"("+t.banana_count+")"),u.a.createElement(U.a,null,u.a.createElement(U.a.Group,{as:$.a,controlId:"formUserName"},u.a.createElement(U.a.Label,{column:!0,sm:2},"User Name"),u.a.createElement(Z.a,{sm:10},u.a.createElement(U.a.Control,{ref:e.userRefs[a].name,onChange:function(){e.userChange(a)},placeholder:"User Name",defaultValue:t.name}))),u.a.createElement(U.a.Group,{as:$.a,controlId:"formHorizontalPIN"},u.a.createElement(U.a.Label,{column:!0,sm:2},"PIN"),u.a.createElement(Z.a,{sm:10},u.a.createElement(U.a.Control,{ref:e.userRefs[a].pin,onChange:function(){e.userChange(a)},placeholder:"PIN",defaultValue:t.pin}))),u.a.createElement(U.a.Group,{as:$.a,controlId:"formHorizontalCheck"},u.a.createElement(Z.a,{sm:{span:10,offset:2}},u.a.createElement(U.a.Check,{ref:e.userRefs[a].notify,onChange:function(){e.userChange(a)},label:"Grocery Monkey Notifications",defaultChecked:t.notify}))),u.a.createElement(U.a.Group,{as:$.a,controlId:"formHorizontalEmail"},u.a.createElement(U.a.Label,{column:!0,sm:2},"Email"),u.a.createElement(Z.a,{sm:10},u.a.createElement(U.a.Control,{ref:e.userRefs[a].email,onChange:function(){e.userChange(a)},type:"email",placeholder:"Email",defaultValue:t.email}))),u.a.createElement(U.a.Group,{as:$.a,type:"email",controlId:"formHorizontalSMS"},u.a.createElement(U.a.Label,{column:!0,sm:2},"SMS"),u.a.createElement(Z.a,{sm:10},u.a.createElement(U.a.Control,{ref:e.userRefs[a].sms,onChange:function(){e.userChange(a)},placeholder:"SMS",defaultValue:t.sms}))),u.a.createElement(P.a,{variant:"primary",onClick:function(){e.deleteUserData(a)}},"Delete "+t.name),u.a.createElement("span",{style:{visibility:"hidden"}},"    "),u.a.createElement(P.a,{variant:"primary",onClick:function(){e.updateUserInfo(a)},disabled:!e.state.userChange[a]},"Save Changes")))),u.a.createElement("br",null))})),u.a.createElement(Y.a,{style:{width:"100%"}},u.a.createElement(Y.a.Img,{src:"./images/users/new_user.png"}),u.a.createElement(Y.a.Body,null,u.a.createElement(Y.a.Title,null,"New User"),u.a.createElement(U.a,null,u.a.createElement(U.a.Group,{as:$.a,controlId:"formUserName"},u.a.createElement(U.a.Label,{column:!0,sm:2},"User Name"),u.a.createElement(Z.a,{sm:10},u.a.createElement(U.a.Control,{ref:this.newName,onChange:function(){e.setState((function(){return{newChange:!0}}))},placeholder:"User Name"}))),u.a.createElement(U.a.Group,{as:$.a,controlId:"formHorizontalPIN"},u.a.createElement(U.a.Label,{column:!0,sm:2},"PIN"),u.a.createElement(Z.a,{sm:10},u.a.createElement(U.a.Control,{ref:this.newPIN,onChange:function(){e.setState((function(){return{newChange:!0}}))},placeholder:"PIN"}))),u.a.createElement(P.a,{variant:"primary",onClick:function(){e.newUser()},disabled:!this.state.newChange},"Add User"))))))))),u.a.createElement(M.a,{eventKey:"items",title:"Items"},u.a.createElement("div",{style:{width:"100%",textAlign:"center",alignContent:"center"}},u.a.createElement("div",{style:{width:"90%",display:"inline-block"}},u.a.createElement("br",null),u.a.createElement(Y.a,null,u.a.createElement(Y.a.Header,null,u.a.createElement("div",{style:{width:"100%",display:"inline-block"}},u.a.createElement("div",{style:{display:"inline-block",textAlign:"left",width:"60%"}},u.a.createElement(p.a,{roundedCircle:!0,src:"/images/favicon.ico",style:{width:"40px",height:"40px",cursor:"pointer"}}),u.a.createElement("span",{style:{visibility:"hidden"}},"X"),u.a.createElement("span",{style:{fontWeight:"bold"}},"Item Cleanup")),u.a.createElement("div",{style:{display:"inline-block",width:"40%",textAlign:"right"}},u.a.createElement(U.a.Group,null,u.a.createElement(P.a,{onClick:function(){e.props.logOff()}}," Back")))))),u.a.createElement(ie,{isAuthenticated:this.props.isAuthenticated})))),u.a.createElement(M.a,{eventKey:"emojis",title:"emojis"},u.a.createElement("div",{style:{width:"100%",textAlign:"center",alignContent:"center"}},u.a.createElement("div",{style:{width:"90%",display:"inline-block"}},u.a.createElement("br",null),u.a.createElement(Y.a,null,u.a.createElement(Y.a.Header,null,u.a.createElement("div",{style:{width:"100%",display:"inline-block"}},u.a.createElement("div",{style:{display:"inline-block",textAlign:"left",width:"60%"}},u.a.createElement(p.a,{roundedCircle:!0,src:"/images/favicon.ico",style:{width:"40px",height:"40px",cursor:"pointer"}}),u.a.createElement("span",{style:{visibility:"hidden"}},"X"),u.a.createElement("span",{style:{fontWeight:"bold"}},"emoji Lookup")),u.a.createElement("div",{style:{display:"inline-block",width:"40%",textAlign:"right"}},u.a.createElement(U.a.Group,null,u.a.createElement(P.a,{onClick:function(){e.props.logOff()}}," Back")))))),u.a.createElement(se,null))))))}}]),a}(u.a.Component),ue=function(e){var t=e.component,a=Object(l.a)(e,["component"]);return u.a.createElement(d.b,Object.assign({},a,{render:function(){return!0===e.isAuthenticated?u.a.createElement(t,e):u.a.createElement(d.a,{to:"/"})}}))},me=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={auth:!1,user:{user_id:0,name:""},isAdmin:!1},r.authenticatePin=r.authenticatePin.bind(Object(i.a)(r)),r.logOff=r.logOff.bind(Object(i.a)(r)),r.updateUser=r.updateUser.bind(Object(i.a)(r)),r.getUserData=r.getUserData.bind(Object(i.a)(r)),r}return Object(r.a)(a,[{key:"logOff",value:function(){this.setState((function(){return{auth:!1,isAdmin:!1}}))}},{key:"authenticatePin",value:function(e,t){var a=this;!function(e,t){fetch(E+"/authenticateuser",{method:"POST",headers:b,body:JSON.stringify({pin:e})}).then((function(e){return e.json()})).then((function(e){t(e.success,e.user)}))}(e,function(e,n){!function(e){fetch(E+"/getconfiginfo",{method:"POST",headers:b}).then((function(e){return e.json()})).then((function(t){t.success?e(t.data):e({})}))}((function(r){S((function(i){a.setState((function(){return{auth:e,user:n,isAdmin:-1===n.user_id,config:r,users:i}})),t(e)}))}))}.bind(this))}},{key:"updateUser",value:function(e,t){var a=this;w(e,function(e){a.setState((function(){return{user:e}})),t()}.bind(this))}},{key:"getUserData",value:function(e){var t=this;S((function(a){t.setState((function(){return{users:a}}),e())}))}},{key:"render",value:function(){var e=this;return u.a.createElement(f.a,null,u.a.createElement(d.b,{exact:!0,path:"/",render:function(t){return u.a.createElement(j,Object.assign({},t,{isAuthenticated:e.state.auth,authenticatePin:e.authenticatePin,isAdmin:e.state.isAdmin,logOff:e.logOff}))}}),u.a.createElement(ue,{path:"/config",component:ce,isAuthenticated:this.state.auth,isAdmin:this.state.isAdmin,logOff:this.logOff,config:this.state.config,users:this.state.users,getUserData:this.getUserData}),u.a.createElement(ue,{path:"/main",component:q,isAuthenticated:this.state.auth,user:this.state.user,logOff:this.logOff}),u.a.createElement(ue,{path:"/user",component:ae,isAuthenticated:this.state.auth,user:this.state.user,updateUser:this.updateUser}))}}]),a}(u.a.Component);h.a.render(u.a.createElement(me,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[171,1,2]]]);
//# sourceMappingURL=main.f23e57e6.chunk.js.map